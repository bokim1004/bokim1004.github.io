{"componentChunkName":"component---src-templates-blog-post-js","path":"/업무기록/발박스가-화면-가장자리에-붙을-경우-에러메시지-뜨게-하기/","result":{"data":{"site":{"siteMetadata":{"title":"프론트엔드 기록 by chloee 🐳","author":"chloee","siteUrl":"https://bokim1004.github.io","comment":{"disqusShortName":"https-bokim1004-github-io","utterances":"bokim1004/blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"3b567779-db3f-5614-b63d-c0b3d0bf9262","excerpt":"업무 배경 카메라 화면에서 발박스가 가장자리에 붙을 경우 에러 메시지를 띄워야 했다.\n발박스가 카메라 화면의 가장자리에 위치해있다는 것을 구분해야했다. 구현 방법 아래 이미지는 실제로 구현에 성공한 과정에서 찍은 스크린샷이다.\n 라는 가상의 canvas를 만든다. 이 화면은 카메라 화면의 width, height와 동일하다. width,height을 webcamRef.current.video값을 이용해서 구해야 카메라 화면 크기의 canvas가 그려진다. 카메라 화면 크기의 가상 canvas…","html":"<h3 id=\"업무-배경\" style=\"position:relative;\"><a href=\"#%EC%97%85%EB%AC%B4-%EB%B0%B0%EA%B2%BD\" aria-label=\"업무 배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>업무 배경</h3>\n<p>카메라 화면에서 발박스가 가장자리에 붙을 경우 에러 메시지를 띄워야 했다.\n발박스가 카메라 화면의 가장자리에 위치해있다는 것을 구분해야했다.</p>\n<h3 id=\"구현-방법\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84-%EB%B0%A9%EB%B2%95\" aria-label=\"구현 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구현 방법</h3>\n<p>아래 이미지는 실제로 구현에 성공한 과정에서 찍은 스크린샷이다.\n<img src=\"https://velog.velcdn.com/images/chloeee/post/46dfd585-9223-4897-9b50-1a5d90c96184/image.png\" alt=\"img\"></p>\n<ol>\n<li><code class=\"language-text\">FootCenterBoxWrapper</code>라는 가상의 canvas를 만든다. 이 화면은 카메라 화면의 width, height와 동일하다.</li>\n</ol>\n<ul>\n<li>width,height을 webcamRef.current.video값을 이용해서 구해야 카메라 화면 크기의 canvas가 그려진다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>FootCenterBoxWrapper\n  ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>centerCanvasRef<span class=\"token punctuation\">}</span>\n  width <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>webcamRef<span class=\"token operator\">?.</span>current<span class=\"token operator\">?.</span>video<span class=\"token punctuation\">.</span>offsetWidth<span class=\"token punctuation\">}</span>\n  height<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span> webcamRef<span class=\"token operator\">?.</span>current<span class=\"token operator\">?.</span>video<span class=\"token punctuation\">.</span>offsetHeight <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                        \n<span class=\"token keyword\">const</span> centerCanvasRef <span class=\"token operator\">=</span> useRef<span class=\"token operator\">&lt;</span>HTMLCanvasElement<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ctxCenter <span class=\"token operator\">=</span> centerCanvasRef<span class=\"token punctuation\">.</span>current<span class=\"token operator\">?.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<ol start=\"2\">\n<li>카메라 화면 크기의 가상 canvas안에서 가운데 박스를 그려준다.</li>\n</ol>\n<ul>\n<li>가운데 박스는 가장자리 안에 위치해있게 크기를 조정해주었다. (위 이미지에서 검정색 박스)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/*\n *시작점 X 좌표 = 캔버스 너비 / 2 - 직사각형 너비 / 2\n *시작점 Y 좌표 = 캔버스 높이 / 2 - 직사각형 높이 / 2\n */</span>\n<span class=\"token keyword\">const</span> centerX <span class=\"token operator\">=</span> ctxCenter<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>ctxCenter<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> centerY <span class=\"token operator\">=</span> ctxCenter<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>height<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>ctxCenter<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>height<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n                        \n<span class=\"token keyword\">const</span> centerBoxWidth <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>ctxCenter<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> centerBoxHeight <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>ctxCenter<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>height<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<ol start=\"3\">\n<li>footBoxCanvas와 가운데 박스의 거리를 계산한다.</li>\n<li>초록색 발박스의 x,y좌표가 이 값을 넘어가면 가운데 두고 촬영해달라는 에러 메시지가 뜬다.</li>\n</ol>\n<ul>\n<li>초록색 발박스가 오른쪽있을 때는 boxX+boxWidth 값이 크면 가장자리 인것으로 봄</li>\n<li>초록색 발 박스가 맨 아래에 있을 때는 boxY+boxHeight값이 크면 가장자리인 것으로 봄</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token comment\">// footBoxCanvas박스와 가운데 박스의 거리를 계산</span>\n   <span class=\"token keyword\">const</span> calcTop <span class=\"token operator\">=</span> ctx<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>height<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> centerBoxHeight <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">const</span> calcLeft <span class=\"token operator\">=</span> ctx<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> centerBoxWidth <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">const</span> calcBottom <span class=\"token operator\">=</span> ctx<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>height<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> centerBoxHeight <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> centerBoxHeight<span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">const</span> calcRight <span class=\"token operator\">=</span> ctx<span class=\"token operator\">?.</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token operator\">!</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> centerBoxWidth <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">+</span> centerBoxWidth<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> boxAtEdge <span class=\"token operator\">=</span> boxX <span class=\"token operator\">&lt;</span> calcLeft <span class=\"token operator\">||</span>  boxX <span class=\"token operator\">+</span> boxWidth <span class=\"token operator\">></span> calcRight <span class=\"token operator\">||</span> boxY <span class=\"token operator\">&lt;</span> calcTop <span class=\"token operator\">||</span> boxY <span class=\"token operator\">+</span> boxHeight <span class=\"token operator\">></span> calcBottom<span class=\"token punctuation\">;</span>\n                        </code></pre></div>\n<h3 id=\"생각-정리\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EA%B0%81-%EC%A0%95%EB%A6%AC\" aria-label=\"생각 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생각 정리</h3>\n<p>이쪽 부분이 그때 당시에 구현 방법을 생각하지 못하여 난항을 겪었던 것으로 생각한다.\n노트에 이걸 어떻게 구현하면 좋을지 그림도 그리고 글을 써가며 해결책을 찾아갔었다.\n개발하며 해결책을 찾아가는 과정에서 참 창의성이 중요하다는 생각이 들었다.\nA가 안되면 B방법을 시도해보고 안되면 C방법도 시도해보고,, 이런 과정을 겪으며 해결책을 찾아냈을 때 큰 뿌듯함이 있다.\n위 업무도 그 뿌듯함을 줬었던 부분이었다.</p>","frontmatter":{"title":"발박스가 화면 가장자리에 붙을 경우 에러메시지 뜨게 하기","date":"January 27, 2025","image":"https://velog.velcdn.com/images/chloeee/post/3bae8ed2-22df-47da-9d98-1b38c768ced0/image.png"}}},"pageContext":{"slug":"/업무기록/발박스가-화면-가장자리에-붙을-경우-에러메시지-뜨게-하기/","previous":{"fields":{"slug":"/react/react-hooks와-함수형-프로그래밍/"},"frontmatter":{"title":"react hooks와 함수형 프로그래밍"}},"next":null}},"staticQueryHashes":["2486386679","3128451518"]}