{"componentChunkName":"component---src-templates-blog-post-js","path":"/react/react-popup-draggable-resizable-npm-만들기/","result":{"data":{"site":{"siteMetadata":{"title":"프론트엔드 기록 by chloee 🐳","author":"chloee","siteUrl":"https://bokim1004.github.io","comment":{"disqusShortName":"https-bokim1004-github-io","utterances":"bokim1004/blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"a63ee457-8ede-5849-b616-4d3fe6514f9d","excerpt":"NPM패키지를 한번도 publish해본 경험이 없어서 이번 기회에 경험삼아 만들어보고 싶었다.\n패키지 작성부터 빌드, publish까지 “한 번 만들어보면 별거 아니지만, 해보기 전까지는 어렵게 느껴진다”라는 말을 듣고 이번 기회에 도전해보기로 했다.\nNPM패키지를 작성해보면서 어떻게 패키지를 만들어야하는지 살펴보고, 실제 publish까지 해본 과정을 글로 남겨보았다. 1. 어떤 패키지를 만들면 좋을까? 처음에는 react-popup…","html":"<p>NPM패키지를 한번도 publish해본 경험이 없어서 이번 기회에 경험삼아 만들어보고 싶었다.<br/>\n패키지 작성부터 빌드, publish까지 “한 번 만들어보면 별거 아니지만, 해보기 전까지는 어렵게 느껴진다”라는 말을 듣고 이번 기회에 도전해보기로 했다.<br/>\nNPM패키지를 작성해보면서 어떻게 패키지를 만들어야하는지 살펴보고, 실제 publish까지 해본 과정을 글로 남겨보았다.</p>\n<h2 id=\"1-어떤-패키지를-만들면-좋을까\" style=\"position:relative;\"><a href=\"#1-%EC%96%B4%EB%96%A4-%ED%8C%A8%ED%82%A4%EC%A7%80%EB%A5%BC-%EB%A7%8C%EB%93%A4%EB%A9%B4-%EC%A2%8B%EC%9D%84%EA%B9%8C\" aria-label=\"1 어떤 패키지를 만들면 좋을까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 어떤 패키지를 만들면 좋을까?</h2>\n<p>처음에는 react-popup관련 패키지를 만들어보려고 했다. 하지만 이미 여러 가지 라이브러리가 있고, 그 중에서도 활용도가 높은 것들이 많았다. 다른 기능을 고민하다가 react에서 팝업이 draggable되고 resizable되게 해주는 npm 패키지를 만들면 좋겠다는 생각이 들었다.\n기존에 <code class=\"language-text\">react-modal-resizable-draggable</code>이라고 있었으나, 이 패키지는 4년 전에 업데이트되고 현재는 업데이트 되지 않는 패키지였고, react class component로 작성되어 있어 함수형 컴포넌트로 직접 만들어보기로 결정했다.</p>\n<h2 id=\"2-draggable--resizable-팝업-컴포넌트-구현\" style=\"position:relative;\"><a href=\"#2-draggable--resizable-%ED%8C%9D%EC%97%85-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B5%AC%ED%98%84\" aria-label=\"2 draggable  resizable 팝업 컴포넌트 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Draggable &#x26; Resizable 팝업 컴포넌트 구현</h2>\n<p><strong>1. 커스텀 훅 분리</strong></p>\n<p>팝업 컴포넌트를 구성하는 데 있어 중요한 기능은 드래그와 리사이즈이다.\n이 두 가지 기능을 커스텀 훅으로 분리하여 관리했다.</p>\n<p>📁 <code class=\"language-text\">src/hooks/useDraggable.ts</code> <br/>\n📁 <code class=\"language-text\">src/hooks/useResizable.ts</code></p>\n<p><strong>2. 팝업 컴포넌트 만들기</strong></p>\n<p>이제 드래그와 리사이즈 기능을 DraggableAndResizablePopup 컴포넌트로 합쳤다.</p>\n<p><code class=\"language-text\">📁 src/components/DraggableAndResizablePopup.tsx</code></p>\n<h2 id=\"3-packagejson-설정\" style=\"position:relative;\"><a href=\"#3-packagejson-%EC%84%A4%EC%A0%95\" aria-label=\"3 packagejson 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. package.json 설정</h2>\n<p>npm 패키지를 배포하려면 <code class=\"language-text\">package.json</code>을 잘 설정해야 한다.</p>\n<h3 id=\"-핵심-설정-항목\" style=\"position:relative;\"><a href=\"#-%ED%95%B5%EC%8B%AC-%EC%84%A4%EC%A0%95-%ED%95%AD%EB%AA%A9\" aria-label=\" 핵심 설정 항목 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🔑 핵심 설정 항목</h3>\n<ol>\n<li><code class=\"language-text\">name</code> 설정하기</li>\n</ol>\n<ul>\n<li>\n<p>여기에 패키지 이름을 작성할 수 있다. 난 아직은 개발용으로 만든거라 <code class=\"language-text\">@chloebok-dev</code>라고 앞에 붙였다.</p>\n</li>\n<li>\n<p>이는 npm에서 organization을 하나 만들면 되었다.</p>\n<img src=\"https://velog.velcdn.com/images/chloeee/post/d6f5ca1c-7fd1-48cd-9c74-b5255b3c43ab/image.png\" alt=\"image\" width=\"300px\">\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token string-property property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@chloebok-dev/react-popup-draggable-resizable\"</span><span class=\"token punctuation\">,</span></code></pre></div>\n</li>\n</ul>\n<ol start=\"2\">\n<li><code class=\"language-text\">type</code> 설정하기</li>\n</ol>\n<p>패키지의 유형을 명시하는 부분이다.  이 패키지가 ES Module(module) 유형인지,  CommonJS(commonjs) 유형인지를 적는다.\n만약 아무것도 적지 않으면 기본적으로 <code class=\"language-text\">commonjs</code>라고 보면 된다. <br/>\n현재는 기존의 비표준이었던  CommonJS 방식에서 현재 표준 방식인 ES Module 방식으로 넘어가고 있기에, 기본 타입을 <code class=\"language-text\">module</code>이라고 지정해주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">   <span class=\"token string-property property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"module\"</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-text\">CommonJS? ES Module?</code></p>\n<ul>\n<li>CommonJS는 간단히 말해 <code class=\"language-text\">require()</code>와 <code class=\"language-text\">module.exports =</code> 를 사용하는 모듈 시스템이라고 보면 된다.</li>\n<li>ES Module은 <code class=\"language-text\">import</code>와 <code class=\"language-text\">export</code>를 사용하는 모듈 시스템이다.</li>\n</ul>\n<br/>\n<ol start=\"3\">\n<li><code class=\"language-text\">main</code> 설정하기</li>\n</ol>\n<p>기본 import를 할 때, 가리킬 스크립트의 위치를 지정한다.\nimport{} from “@chloebok-dev/react-popup-draggable-resizable”를 했을 때 가르키는 것이 아래 main이라고 보면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string-property property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist/index.js\"</span><span class=\"token punctuation\">,</span></code></pre></div>\n<ol start=\"4\">\n<li><code class=\"language-text\">types</code> 설정하기</li>\n</ol>\n<p>기본 import를 할 경우, 가리킬 TypeScript 타입 파일의 위치를 지정한다. (d.ts)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string-property property\">\"types\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist/index.d.ts\"</span><span class=\"token punctuation\">,</span></code></pre></div>\n<ol start=\"5\">\n<li><code class=\"language-text\">exports</code> 설정하기</li>\n</ol>\n<p>exports 필드는 Node.js 12.7.0에서 도입된 기능이다. <br/>\n패키지가 특정 모듈을 어떻게 노출할지 제어하기 위해 만들어졌다. 기존 main 필드는 하나의 진입점을 제공하고, exports 필드는 여러 개의 엔트리를 세분화해서 제공한다. 난 아래와 같이 작성해주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">   <span class=\"token string-property property\">\"exports\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">\".\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token string-property property\">\"types\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist/index.d.ts\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string-property property\">\"import\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist/index.js\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">\"./components/DraggableAndResizablePopup\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token string-property property\">\"types\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist/components/DraggableAndResizablePopup.d.ts\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string-property property\">\"import\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./dist/components/DraggableAndResizablePopup.js\"</span>\n      <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre></div>\n<h2 id=\"4-패키지-빌드\" style=\"position:relative;\"><a href=\"#4-%ED%8C%A8%ED%82%A4%EC%A7%80-%EB%B9%8C%EB%93%9C\" aria-label=\"4 패키지 빌드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 패키지 빌드</h2>\n<p>패키지를 빌드하는 방법에는 여러가지가 있다.</p>\n<p><strong>1. tsup</strong></p>\n<p>가장 대중적인 패키지 빌드 도구이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add <span class=\"token operator\">--</span>dev tsup</code></pre></div>\n<p>yarn tsup하면 dist에 cjs,js가 들어가게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// tsup.config.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> defineConfig <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"tsup\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> <span class=\"token string\">\"src/index.ts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">resizableAndDraggable</span><span class=\"token operator\">:</span> <span class=\"token string\">\"src/components/DraggableAndResizable.tsx\"</span><span class=\"token punctuation\">,</span>\n  \n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">format</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"esm\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cjs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">clean</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">dts</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이 entry에 들어가는 부분들을 다 적어줘야한다는 단점이 있다. 그게 싫으면 아래 bunchee를 쓰면 된다.</p>\n<p><strong>2. bunchee</strong></p>\n<p>package.json의 설정 항목을 가지고 자동으로 빌드를 수행하게 하는 도구다.<br/>\n위에 설명한 package.json의 여러 필드들을 활용해 빌드 설정을 추론하고 이를 통해 빌드를 한다.\nyarn bunchee하면 dist에 js 올라간다. <br/>\n유저가 import해서 사용해야하는거는 dist에 올라가야한다는 것을 기억하자. <br/>\npackage.json에서 추가해주면 그걸 보고 bunchee가 알아서 dist에 올린다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add <span class=\"token operator\">--</span>dev bunchee</code></pre></div>\n<h2 id=\"출판하기\" style=\"position:relative;\"><a href=\"#%EC%B6%9C%ED%8C%90%ED%95%98%EA%B8%B0\" aria-label=\"출판하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>출판하기</h2>\n<p>아래 스크립트를 통해 npm 패키지를 출판할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">npm publish</code></pre></div>\n<h3 id=\"code-classlanguage-textchangesetscode으로-버저닝-자동화하기\" style=\"position:relative;\"><a href=\"#code-classlanguage-textchangesetscode%EC%9C%BC%EB%A1%9C-%EB%B2%84%EC%A0%80%EB%8B%9D-%EC%9E%90%EB%8F%99%ED%99%94%ED%95%98%EA%B8%B0\" aria-label=\"code classlanguage textchangesetscode으로 버저닝 자동화하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">changesets</code>으로 버저닝 자동화하기</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">yarn add <span class=\"token operator\">--</span>dev @changesets<span class=\"token operator\">/</span>cli\n</code></pre></div>\n<img src=\"https://velog.velcdn.com/images/chloeee/post/cda14686-25c2-462e-8bae-38a9365c2031/image.png\" alt=\"image\">\n<p>위 이미지처럼 major인지 minor인지 patch인지 구분해서 버저닝할 수 있다.</p>\n<p><code class=\"language-text\">.changeset/config.json</code>을 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">\"$schema\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://unpkg.com/@changesets/config@3.1.1/schema.json\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"changelog\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@changesets/cli/changelog\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"commit\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"fixed\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"linked\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"access\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 공개 패키지이므로 public으로 바꿔준다.</span>\n  <span class=\"token string-property property\">\"baseBranch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"updateInternalDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"patch\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"ignore\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h3 id=\"github-actions-셋팅하기\" style=\"position:relative;\"><a href=\"#github-actions-%EC%85%8B%ED%8C%85%ED%95%98%EA%B8%B0\" aria-label=\"github actions 셋팅하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitHub Actions 셋팅하기</h3>\n<ul>\n<li>아래 파일을 .github/workflows/release.yml에 만든다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> Release\n\n<span class=\"token literal-property property\">on</span><span class=\"token operator\">:</span>\n  <span class=\"token literal-property property\">push</span><span class=\"token operator\">:</span>\n    <span class=\"token literal-property property\">branches</span><span class=\"token operator\">:</span>\n      <span class=\"token operator\">-</span> main\n\n<span class=\"token literal-property property\">concurrency</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github<span class=\"token punctuation\">.</span>workflow <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">-</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github<span class=\"token punctuation\">.</span>ref <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token literal-property property\">jobs</span><span class=\"token operator\">:</span>\n  <span class=\"token literal-property property\">release</span><span class=\"token operator\">:</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> Release\n    runs<span class=\"token operator\">-</span>on<span class=\"token operator\">:</span> ubuntu<span class=\"token operator\">-</span>latest\n    <span class=\"token literal-property property\">steps</span><span class=\"token operator\">:</span>\n      <span class=\"token operator\">-</span> name<span class=\"token operator\">:</span> Checkout Repo\n        <span class=\"token literal-property property\">uses</span><span class=\"token operator\">:</span> actions<span class=\"token operator\">/</span>checkout@v3\n\n      <span class=\"token operator\">-</span> name<span class=\"token operator\">:</span> Setup Node<span class=\"token punctuation\">.</span>js <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>x\n        <span class=\"token literal-property property\">uses</span><span class=\"token operator\">:</span> actions<span class=\"token operator\">/</span>setup<span class=\"token operator\">-</span>node@v3\n        <span class=\"token keyword\">with</span><span class=\"token operator\">:</span>\n          node<span class=\"token operator\">-</span>version<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">.</span>x\n\n      <span class=\"token operator\">-</span> name<span class=\"token operator\">:</span> Install Dependencies\n        <span class=\"token literal-property property\">run</span><span class=\"token operator\">:</span> yarn\n\n      <span class=\"token operator\">-</span> name<span class=\"token operator\">:</span> Build\n        <span class=\"token literal-property property\">run</span><span class=\"token operator\">:</span> yarn build\n\n      <span class=\"token operator\">-</span> name<span class=\"token operator\">:</span> Create Release Pull Request or Publish to npm\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> changesets\n        <span class=\"token literal-property property\">uses</span><span class=\"token operator\">:</span> changesets<span class=\"token operator\">/</span>action@v1\n        <span class=\"token keyword\">with</span><span class=\"token operator\">:</span>\n          <span class=\"token literal-property property\">publish</span><span class=\"token operator\">:</span> yarn release\n        <span class=\"token literal-property property\">env</span><span class=\"token operator\">:</span>\n          <span class=\"token constant\">NPM_TOKEN</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets<span class=\"token punctuation\">.</span><span class=\"token constant\">NPM_PACKAGE_PUBLISH_KEY</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token constant\">GITHUB_TOKEN</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets<span class=\"token punctuation\">.</span><span class=\"token constant\">GITHUB_TOKEN</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>NPM에서 액세스 토큰을 생성해 GitHub Actions Repository Secret에 채워준다. (NPM_TOKEN) <br/>\n<code class=\"language-text\">Settings → Secrets and variables → Actions → New repository secret</code></li>\n<li>GitHub Actions의 권한을 ”Read and write permissions”로 변경하고, ”Allow GitHub Actions to create and approve pull requests”도 체크해준다.<br/>\n<code class=\"language-text\">Settings → Actions → General → Workflow permissions</code></li>\n</ul>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>이번 npm 패키지 제작은 처음이라 많은 부분이 서툴렀지만, 직접 배포까지 해보니 확실히 어렵지 않았다. <br/>\n내가 만든 패키지가 벌써 56번이나 다운로드 되었다.. ㅇㅅㅇ!!\n<img src=\"https://velog.velcdn.com/images/chloeee/post/7b2a1902-b73c-46b3-9bd5-084bb4e4cb63/image.png\" alt=\"image\">\n<a href=\"https://www.npmjs.com/package/@chloebok-dev/react-popup-draggable-resizable?activeTab=readme\">내가 만든 @chloebok-dev/react-popup-draggable-resizable npm 패키지</a><br/></p>\n<p>아직 완전하지 않고 수정이 필요한 부분도 있을 것 같아서 추가적으로 업데이트를 계속 해줘야할 것 같다.<br/>\n이번에 npm패키지를 만들면서 많은 것을 배우고 성취감도 느낄 수 있었다.</p>\n<h2 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h2>\n<ul>\n<li>멘땀삭 강의를 보고 npm 패키지 만드는 연습을 함.</li>\n</ul>","frontmatter":{"title":"npm 패키지 만들어보기 (react-popup-draggable-resizable)","date":"March 16, 2025","image":"https://velog.velcdn.com/images/chloeee/post/68714a4e-a56c-4db8-9165-e1551e015293/image.png"}}},"pageContext":{"slug":"/react/react-popup-draggable-resizable-npm-만들기/","previous":{"fields":{"slug":"/etc/ssr은-어떻게-동작하는가/"},"frontmatter":{"title":"SSR은 어떻게 동작하는가"}},"next":null}},"staticQueryHashes":["2486386679","3128451518"]}