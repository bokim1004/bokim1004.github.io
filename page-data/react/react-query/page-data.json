{"componentChunkName":"component---src-templates-blog-post-js","path":"/react/react-query/","result":{"data":{"site":{"siteMetadata":{"title":"í”„ë¡ íŠ¸ì—”ë“œ ë¡œê·¸ by êµ¥ ğŸ³","author":"êµ¥","siteUrl":"https://bokim1004.github.io","comment":{"disqusShortName":"https-bokim1004-github-io","utterances":"bokim1004/blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"9dfaeff0-c6ee-56b7-aa0f-6ec8976255dd","excerpt":"React queryë¥¼ ì“°ëŠ” ì´ìœ  ë‹¤ë¥¸ ê°œë°œìë“¤ê³¼ ì–˜ê¸°ë¥¼ í•˜ë©°, react queryë¥¼ ì“°ëŠ”ê²Œ ì‹ ì„¸ê³„ë¼ëŠ” ì–˜ê¸°ë¥¼ ë“¤ì—ˆëŠ”ë°ìš”!\nì´ê±¸ í•œë²ˆë„ ì•ˆì¨ë´¤ë‹¤ë‹ˆ!! ê·¸ë˜ì„œ ì´ë²ˆì—” react queryì— ëŒ€í•´ ê³µë¶€ë¥¼ í•˜ë©°, ì™œ react queryë¥¼ ì“°ë©´ ì¢‹ì€ì§€ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.  React queryëŠ” ì›ê²© APIì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ëŠ” ê³¼ì •ì„ ê°„ì†Œí™”í•©ë‹ˆë‹¤.  React queryâ€¦","html":"<h3 id=\"react-queryë¥¼-ì“°ëŠ”-ì´ìœ \" style=\"position:relative;\"><a href=\"#react-query%EB%A5%BC-%EC%93%B0%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"react queryë¥¼ ì“°ëŠ” ì´ìœ  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React queryë¥¼ ì“°ëŠ” ì´ìœ </h3>\n<p>ë‹¤ë¥¸ ê°œë°œìë“¤ê³¼ ì–˜ê¸°ë¥¼ í•˜ë©°, react queryë¥¼ ì“°ëŠ”ê²Œ ì‹ ì„¸ê³„ë¼ëŠ” ì–˜ê¸°ë¥¼ ë“¤ì—ˆëŠ”ë°ìš”!\nì´ê±¸ í•œë²ˆë„ ì•ˆì¨ë´¤ë‹¤ë‹ˆ!! ê·¸ë˜ì„œ ì´ë²ˆì—” react queryì— ëŒ€í•´ ê³µë¶€ë¥¼ í•˜ë©°, ì™œ react queryë¥¼ ì“°ë©´ ì¢‹ì€ì§€ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>\n<ol>\n<li><code class=\"language-text\">ê°„í¸í•œ data fetching</code></li>\n</ol>\n<p>React queryëŠ” ì›ê²© APIì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ëŠ” ê³¼ì •ì„ ê°„ì†Œí™”í•©ë‹ˆë‹¤.</p>\n<ol start=\"2\">\n<li><code class=\"language-text\">ìºì‹± ë° ë°ì´í„° ë™ê¸°í™”</code></li>\n</ol>\n<p>React queryëŠ” ìì²´ì ìœ¼ë¡œ ìºì‹± ê¸°ëŠ¥ì´ ìˆì–´ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ ë¡œì»¬ì— ì €ì¥í•˜ê³  ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ëŸ° ìºì‹± ë©”ì»¤ë‹ˆì¦˜ì€ ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ì¤„ì—¬ í¼í¬ë¨¼ìŠ¤ë¥¼ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ìë™ì ìœ¼ë¡œ ë°ì´í„° ë™ê¸°í™”ë¥¼ ì²˜ë¦¬í•˜ì—¬ ìºì‹œë¥¼ ì—…ë°ì´íŠ¸í•˜ê³  ì¼ê´€ì„±ìˆê²Œ ìœ ì§€í•©ë‹ˆë‹¤.</p>\n<ol start=\"3\">\n<li><code class=\"language-text\">ìë™ ë°±ê·¸ë¼ìš´ë“œ refetching</code></li>\n</ol>\n<p>react queryë¥¼ ì‚¬ìš©í•˜ë©´ ë°±ê·¸ë¼ìš´ë“œ ë°ì´í„° ë‹¤ì‹œ ê°€ì ¸ì˜¤ê¸°ë¥¼ ì‰½ê²Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, íŠ¹ì • ê°„ê²©ì„ ì„¤ì •í•˜ê±°ë‚˜\níŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ë‹¤ì‹œ ê°€ì ¸ì˜¤ê¸°ë¥¼ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ëª…ì‹œì ì¸ ì‚¬ìš©ì ì‘ì—… ì—†ì´ë„ ë°ì´í„°ê°€ í•­ìƒ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€ë©ë‹ˆë‹¤.</p>\n<ol start=\"4\">\n<li><code class=\"language-text\">Query ë¬´íš¨í™”, ì˜¤ë˜ëœ ë°ì´í„° ê´€ë¦¬</code></li>\n</ol>\n<p>React queryëŠ” ë˜‘ë˜‘í•œ ìºì‹œ ë¬´íš¨í™” ë§¤ì»¤ë‹ˆì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤. ì„œë²„ì—ì„œ ë°ì´í„°ê°€ ë³€ê²½ë  ë•Œ, react queryëŠ” ìë™ì ìœ¼ë¡œ\nê´€ë ¨ëœ ìºì‹œë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ , UIê°€ ìµœì‹  ë°ì´í„°ë¥¼ ë°˜ì˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ë˜í•œ ì˜¤ë˜ëœ ë°ì´í„° ê´€ë¦¬ë¥¼ ì§€ì›í•´ì„œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼\nê°€ì ¸ì˜¤ëŠ” ë™ì•ˆ ìºì‹œëœ ë°ì´í„°ë¥¼ ì¦‰ì‹œ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<ol start=\"5\">\n<li><code class=\"language-text\">Optimistic ì—…ë°ì´íŠ¸ì™€ ë³€í˜•</code></li>\n</ol>\n<p>React queryëŠ” optimistic updateë¥¼ ì œê³µí•˜ì—¬ ë³€í˜• ê³¼ì •(create,update,delete)ì„ ê°„ì†Œí™”í•©ë‹ˆë‹¤.\në‹¤ì‹œ ë§í•´, ì‹¤ì œ ì„œë²„ ì‘ë‹µë°›ê¸° ì „ì— ë‚™ê´€ì ìœ¼ë¡œ UIë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆëŠ”ê²Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<ol start=\"6\">\n<li><code class=\"language-text\">Error handlingê³¼ retries</code></li>\n</ol>\n<p>React queryëŠ” ê´‘ë²”ìœ„í•œ ì—ëŸ¬ í•¸ë“¤ë§ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ê³  ì¬ì‹œë„í•  ìˆ˜ ìˆëŠ” hookì„ ì œê³µí•©ë‹ˆë‹¤.\nretryë¡œì§ì„ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•  ìˆ˜ ìˆê³ , ì—ëŸ¬ ë°”ìš´ë”ë¦¬ë¥¼ êµ¬í˜„í•˜ì—¬ ì—ëŸ¬ ë…¸í‹°ë¥¼ ì‰½ê²Œ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<ol start=\"7\">\n<li><code class=\"language-text\">React ìƒíƒœê³„ì™€ì˜ í†µí•©</code></li>\n</ol>\n<p>React queryëŠ” ë¦¬ì•¡íŠ¸ ìƒíƒœê³„ì™€ í†µí•©ì´ ì˜ë˜ê³ , redux ë˜ëŠ” mobXê°™ì€ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ë„ í˜¸í™˜ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p>ì˜ˆì‹œ ì½”ë“œë¥¼ ë³´ë©° react queryë¥¼ ì‚¬ìš©í•˜ëŠ” ë²•ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>\n<h3 id=\"usequery-ì˜ˆì‹œ\" style=\"position:relative;\"><a href=\"#usequery-%EC%98%88%EC%8B%9C\" aria-label=\"usequery ì˜ˆì‹œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useQuery ì˜ˆì‹œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">userList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> isLoading<span class=\"token punctuation\">,</span> isError <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://api.example.com/users'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>response<span class=\"token punctuation\">.</span>ok<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Failed to fetch users'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isLoading<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Loading<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isError<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Error fetching users<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>User List<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">user</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> userList<span class=\"token punctuation\">;</span></code></pre></div>\n<p>ìœ„ ì½”ë“œì—ì„œ react queryë¥¼ ì‚¬ì˜¹í•  ë•Œ, queryëŠ” <code class=\"language-text\">users</code>ë¼ê³  ì •ì˜í–ˆê³  ì´ëŠ” <code class=\"language-text\">https://api.example.com/users</code> urlì—ì„œ\nìœ ì € ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.<br/>\nuseQueryëŠ” 2ê°œì˜ argumentsë¥¼ ê°€ì§€ëŠ”ë° <code class=\"language-text\">query key</code>ì™€ <code class=\"language-text\">dataë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜</code> ì…ë‹ˆë‹¤.\n<code class=\"language-text\">query key</code>ëŠ” ìœ ë‹ˆí¬í•œ ì¿¼ë¦¬ ì‹ë³„ìì´ë©°, react queryê°€ ìºì‹±ê³¼ ë¬´íš¨í™”ë¥¼ ê´€ë¦¬í•˜ëŠ”ë° ë„ì›€ì„ ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.\n<br/></p>\n<p>queryê°€ ì§„í–‰ ì¤‘ì¼ ë•Œ, isLoading flagê°€ trueê°€ ë˜ë©°, dataë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì—ëŸ¬ê°€ ìˆìœ¼ë©´ isError flagê°€ trueê°€ ë©ë‹ˆë‹¤.\nqueryê°€ ì„±ê³µì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©´ user listë¥¼ ë³´ì—¬ì£¼ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>React QueryëŠ” ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ ìºì‹±í•˜ê²Œ ë˜ëŠ”ë°, ë§Œì•½ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë¥¼ í•˜ë©´ react queryëŠ” ìºì‹œë¥¼ ë¨¼ì € í™•ì¸í•œ í›„ ìºì‹œëœ ë°ì´í„°ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.\në§Œì•½ ë°ì´í„°ê°€ ì˜¤ë˜ë˜ì—ˆê±°ë‚˜ ë§Œë£Œë˜ì—ˆìœ¼ë©´ react queryëŠ” ìë™ì ìœ¼ë¡œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ refetchí•˜ì—¬ cacheì™€ UIë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.</p>\n<h3 id=\"data-fetching-ì‹œ-getì—ëŠ”-usequeryê°€-ì‚¬ìš©ë˜ê³ -putpostdeleteì—ëŠ”-usemutationì´-ì‚¬ìš©ëœë‹¤\" style=\"position:relative;\"><a href=\"#data-fetching-%EC%8B%9C-get%EC%97%90%EB%8A%94-usequery%EA%B0%80-%EC%82%AC%EC%9A%A9%EB%90%98%EA%B3%A0-putpostdelete%EC%97%90%EB%8A%94-usemutation%EC%9D%B4-%EC%82%AC%EC%9A%A9%EB%90%9C%EB%8B%A4\" aria-label=\"data fetching ì‹œ getì—ëŠ” usequeryê°€ ì‚¬ìš©ë˜ê³  putpostdeleteì—ëŠ” usemutationì´ ì‚¬ìš©ëœë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>data fetching ì‹œ GETì—ëŠ” useQueryê°€ ì‚¬ìš©ë˜ê³ , PUT,POST,DELETEì—ëŠ” useMutationì´ ì‚¬ìš©ëœë‹¤.</h3>\n<p>ë³´í†µ <code class=\"language-text\">useQuery</code>ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì”ë‹ˆë‹¤. ë³´í†µ HTTP METHOD GETìš”ì²­ì²˜ëŸ¼ ì„œë²„ì— ì €ì¥ëœ ìƒíƒœë¥¼ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•  ë–„ ì‚¬ìš©ë©ë‹ˆë‹¤.\nuseQueryë¥¼ ì‚¬ìš©í•˜ë©´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ìë™ì ìœ¼ë¡œ ìºì‹±,ë¦¬í”„ë ˆì‹±,ì—ëŸ¬í•¸ë“¤ë§ ê°™ì€ ê²ƒë“¤ì„ í•´ì¤ë‹ˆë‹¤.\në°˜ë©´, <code class=\"language-text\">useMutation</code>ì€ ë°ì´í„° ë³€í˜•ê°™ì€ ë°ì´í„°ë¥¼ ì¶”ê°€,ì—…ë°ì´íŠ¸,ì‚­ì œí•˜ëŠ” ê²½ìš° ì‚¬ìš©ë©ë‹ˆë‹¤.\në³´í†µ HTTP METHOD POST, PUT, DELETE ìš”ì²­ì²˜ëŸ¼ ì„œë²„ì— ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ë°œìƒì‹œì¼œ ì„œë²„ìƒíƒœë¥¼ ë³€ê²½ì‹œí‚¤ëŠ” ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<h3 id=\"usemutation-ì˜ˆì‹œ\" style=\"position:relative;\"><a href=\"#usemutation-%EC%98%88%EC%8B%9C\" aria-label=\"usemutation ì˜ˆì‹œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useMutation ì˜ˆì‹œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">updateUser</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">userData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/users'</span><span class=\"token punctuation\">,</span> userData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Failed to update user data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Use the useMutation hook</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> mutate<span class=\"token punctuation\">,</span> isLoading<span class=\"token punctuation\">,</span> isError<span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">,</span> data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useMutation</span><span class=\"token punctuation\">(</span>updateUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Handle form submission</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleSubmit</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> formData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FormData</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> userData <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">fromEntries</span><span class=\"token punctuation\">(</span>formData<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Call the mutation function to update user data</span>\n    <span class=\"token function\">mutate</span><span class=\"token punctuation\">(</span>userData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>useMutaionì€ useQueryì™€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në¹„ë™ê¸°ì ìœ¼ë¡œ mutationì„ ì‹¤í–‰í•˜ê³ , ì—ëŸ¬í•¸ë“¤ë§ë„ í•©ë‹ˆë‹¤.</p>\n<h3 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°</h3>\n<p>data fetchingë„ ë” ê°„í¸í•˜ê³ , ìºì‹±ë„ ê°€ëŠ¥í•œë‹¤ëŠ” ì ì—ì„œ react queryë¡œ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.\níŠ¹íˆ, React queryê°€ ê°€ì§€ê³  ìˆëŠ” ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì¸ optimistic ì—…ë°ì´íŠ¸ë¥¼ ì‹¤ì œë¡œ í™œìš©í•´ë³´ë©´\në„ˆë¬´ ì¢‹ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì–´ì„œ ì´ ë¶€ë¶„ì„ ì¢€ ë” íŒŒê³ ë“¤ì–´ë´ì•¼í•  ê²ƒ ê°™ë„¤ìš”!</p>","frontmatter":{"title":"React query","date":"July 16, 2023","image":"https://velog.velcdn.com/images/chloeee/post/76582d94-ca32-41b5-a0aa-5e253eb45231/image.jpg"}}},"pageContext":{"slug":"/react/react-query/","previous":{"fields":{"slug":"/three.js/cameras/"},"frontmatter":{"title":"Three.js journey | Cameras"}},"next":{"fields":{"slug":"/three.js/fullscreen-and-resizing/"},"frontmatter":{"title":"Three.js journey | Fullscreen and resizing"}}}},"staticQueryHashes":["2486386679","3128451518"]}